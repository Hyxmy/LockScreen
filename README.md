# LockScreen

**项目背景**

 在移动端设备上，“手势密码”成为一个很常用的 UI 组件。 

**项目需求**

用户用手指按顺序依次划过 9 个原点中的若干个（必须不少于 4 个点），如果划过的点的 数量和顺序与之前用户设置的相同，那么当用户的手指离开屏幕时，判定为密码输入正确， 否则密码错误。 要求：实现一个移动网页，允许用户设置手势密码和验证手势密码。已设置的密码记录在本 地 localStorage 中。 

**项目实现思路**

- 用html/css先完成页面大概框架，留下中间位置放置解锁圈圈和提示语，用户传入canvas的高度、宽度放置canvas的容器
- 初始化页面，radio组控制无localStorage时不能选择验证密码，点击后提示用户需要先设置密码
- 分别用函数drawCircle、drawPoint、drawLine实现画一个圈、一段线、一个点。
- 利用for循环生成九个圆心的位置，画出九个圈圈，并存入数组circleCenters
- 绑定事件
	- radio的点击事件
	- canvas的事件
		- touchstart事件
			- 画第一个点，并初始化轨迹点数组、剩余点数组的值
		- touchmove事件
			- 当鼠标触发touchmove事件时，移动位置就将canvas的内容重画一次，实现动态显示解锁路径
			- isLine函数判断两点之间有没有必须经过的点，如果前一个点和当前点在一条直线上，且中间相隔一个未经过点，应把中间未经过点加入轨迹点
			- 根据存入的trailPoints调用函数drawPoints、drawLines画出轨迹
		- touchend事件
			- 将canvas的初始内容重画一次
			- 根据radio的值确认是保存密码还是验证密码
				- 根据setS的值确认是第一遍输密码还是第二遍，第二遍正确存入localStorage，并输出提示语
				- 验证密码从localStorage取出密码与刚刚的轨迹进行对比，判断是否解锁，并输出提示语